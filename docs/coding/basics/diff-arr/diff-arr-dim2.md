# 二维差分

#### 思想

- 仍然考虑一个原点在左上角的坐标系，沿着右、下方向是坐标数值增加的方向。则如果要让左上角顶点`(k,l)`，右下角顶点`(i,j)`的矩形中的元素都`+=c`，则需要让`diff[k][l]+=c,diff[k,j+1]-=c,diff[i+1,l]-=c,diff[i+1,j+1]+=c`。因为当`diff[k][l]+=c`，就会导致点`(k,l)`为左上角顶点，以数组大小为右下角顶点的广阔区域都`+=c`。我们借鉴一维差分的思想，让`diff[k,j],diff[i,l]`减回来这个`c`。但是显然以`(i,j)`为左上角顶点，以数组大小为右下角顶点的广阔区域一共被加了1个`c`，减去了两个`c`，所以还需要加回来一个`c`，也就是`diff[i][j]+=c`.

#### 模板
- 注意背诵批量更新时，`dff`矩阵的操作。
- 注意在对原矩阵施加变化时，要遵循i从小到大循环，j从小到大循环的顺序，否则因为每次更新需要的是`[i][j],[i][j-1],[i-1][j],[i-1][j-1]`，需要的是左上角方向的矩阵元素，类比动态规划的方向性问题。